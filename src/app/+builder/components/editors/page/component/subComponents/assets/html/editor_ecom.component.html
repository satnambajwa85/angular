<div class="">
    <div class="main-side">
        <div class="sidebar-topselector top-space1">
            <div class="card-layout">
                <span> Recommendations Properties </span>
            </div>
        </div>
    </div>
</div>
<div class="type-details editor-ecom-top">
    <div>
        <span class="form-label">Map Recommendation</span>
        <button (click)="openEcomMapPopup()" class="mapping-button">Map Products to responses</button>

    </div>
</div>
<div class="type-details">
    <div>
        <div class="stage3-product-details">
            <label class="">Heading</label>
            <div class="icon-outer bottom">
                <div class="char-count-limit" *ngIf="froalaHeader.textCount>62">{{froalaHeader.textCount}}</div>
                <div class="help-text">Recommended limit of 62 characters is exceeded</div>
            </div>
            <div [froalaEditor]="froalaHeader.options" *ngIf="froalaHeader.options" [(froalaModel)]="editorControl.result_header.props.title"></div>
        </div>
    </div>
</div>
<div class="type-details-head">
    <i class="material-icons"></i>
    <span class="type-details-heading">CALL TO ACTION</span>
</div>
<div class="type-details">
    <div>
        <div class="stage3-product-details">
            <label class="">Heading</label>
            <input placeholder="Heading" type="text" (keyup)="updateHeading();" [(ngModel)]="editorControl.click_button.props.unit" class="ng-untouched ng-pristine ng-valid">
        </div>
        <div>
            <div class="custom-switch">
                <label class="radio-check share" [class.active]="editorControl.cta_likes.visible" [class.inactive]="!editorControl.cta_likes.visible">
                    <div class="switch">
                        <label>
                            <input class="show-check" type="checkbox" value="Value1" name="checkbox1" [checked]="editorControl.cta_likes.visible==true"
                                (click)="_editorService.toggleCta('cta_likes',isCtaAccessible);" id="primary1">
                            <span class="lever"></span>
                        </label>
                    </div>
                    <span>
                        <i class="material-icons lock-icon bookmark-icon" *ngIf="!_featureAuthService.features.cta.like_follow">lock_outline</i>
                        SUBSCRIBE TO SOCIAL FEEDS</span>
                    <div class="radio-section ful-length" *ngIf="editorControl.cta_likes.visible">
                        <label class="ch-icon ic" [class.active]="editorControl.cta_likes.options[0].selected">
                            <input type="radio" name="icon-select" id="r-ic1" (click)="optionToggle('cta_likes','facebook')">
                            <label for="r-ic1">
                                <i class="fa fa-facebook"></i>
                            </label>
                        </label>
                        <label class="ch-icon ic" [class.active]="editorControl.cta_likes.options[1].selected">
                            <input type="radio" name="icon-select" (click)="optionToggle('cta_likes','twitter')" id="r-ic2">
                            <label for="r-ic2">
                                <i class="fa fa-twitter"></i>
                            </label>
                        </label>
                        <label class="ch-icon ic" *ngIf="editorControl.cta_likes.options[2]" [class.active]="editorControl.cta_likes.options[2].selected">
                            <input type="radio" name="icon-select" (click)="optionToggle('cta_likes','vKontakte')" id="r-ic3">
                            <label for="r-ic3">
                                <i class="fa fa-vk"></i>
                            </label>
                        </label>
                        <section [class.hide]="!editorControl.cta_likes.options[0].selected">
                            <div class="form-label top-space10">Facebook Page URL</div>
                            <input type="text" class="detail-text" placeholder="https://www.facebook.com/outgrowco" [(ngModel)]="editorControl.cta_likes.options[0].label"
                            />
                        </section>
                        <section [class.hide]="!editorControl.cta_likes.options[1].selected">
                            <div class="form-label top-space10">Twitter Handle</div>
                            <div class="col-md-12 col-xs-12 no-padding full-check-value">
                                <label class="check-value">@</label>
                                <input type="text" class="form-text value-text" placeholder="outgrowco" [(ngModel)]="editorControl.cta_likes.options[1].label"
                                />
                            </div>
                        </section>
                        <section *ngIf="editorControl.cta_likes.options[2]" [class.hide]="!editorControl.cta_likes.options[2].selected">
                            <div class="form-label top-space10">VKontakte Profile</div>
                            <div class="col-md-12 col-xs-12 no-padding full-check-value">
                                <label class="check-value">https://vk.com/id</label>
                                <input type="text" class="detail-text" placeholder="460614642" [(ngModel)]="editorControl.cta_likes.options[2].label" />
                            </div>
                        </section>
                        <div class="type-details no-border bottom-space0" *ngIf="isSharePopupAllowed() && editorControl.cta_likes.visible">
                            <div class="custom-switch open-in-app">
                                <label class="check check-mandatory form-label">
                                    <input id="show-check-likes" [checked]="editorControl.cta_likes.showButton" (change)="toggleSharePopup($event, 'cta_likes')"
                                        type="checkbox">
                                    <label for="show-check-likes"> </label> Show before result
                                </label>
                            </div>
                        </div>
                    </div>
                </label>


                <label class="radio-check share" [class.active]="editorControl.cta_shares.visible" [class.inactive]="!editorControl.cta_shares.visible">
                    <div class="switch">
                        <label>
                            <input class="show-check" type="checkbox" value="Value1" name="checkbox1" (click)="_editorService.toggleCta('cta_shares',isCtaAccessible);"
                                [checked]="editorControl.cta_shares.visible==true" id="primary2">
                            <span class="lever mb0"></span>
                        </label>
                    </div>
                    <span class="mb0">
                        <i class="material-icons lock-icon bookmark-icon" *ngIf="!_featureAuthService.features.cta.shares">lock_outline</i>
                        SHARE ON SOCIAL MEDIA</span>
                    <div class="col-xs-12 no-padding share radio-section ful-length top-space10" [class.hide]="!editorControl.cta_shares.visible">
                        <label class="ch-icon ic" [class.active]="editorControl.cta_shares.options[0].selected">
                            <input type="radio" name="icon-select" id="share-ic1" (click)="optionToggle('cta_shares','facebook')">
                            <label for="share-ic1">
                                <i class="fa fa-facebook"></i>
                            </label>
                        </label>
                        <label class="ch-icon ic" [class.active]="editorControl.cta_shares.options[1].selected">
                            <input type="radio" name="icon-select" id="share-ic2" (click)="optionToggle('cta_shares','twitter')">
                            <label for="share-ic2">
                                <i class="fa fa-twitter"></i>
                            </label>
                        </label>
                        <label class="ch-icon ic" [class.active]="editorControl.cta_shares.options[2].selected">
                            <input type="radio" name="icon-select" id="share-ic3" (click)="optionToggle('cta_shares','linkedin')">
                            <label for="share-ic3">
                                <i class="fa fa-linkedin"></i>
                            </label>
                        </label>
                        <label class="ch-icon ic" *ngIf="editorControl.cta_shares.options[3]" [class.active]="editorControl.cta_shares.options[3].selected">
                            <input type="radio" name="icon-select" id="share-ic4" (click)="optionToggle('cta_shares','vKontakte')">
                            <label for="share-ic4">
                                <i class="fa fa-vk"></i>
                            </label>
                        </label>
                        <label class="ch-icon ic" *ngIf="editorControl.cta_shares.options[4]" [class.active]="editorControl.cta_shares.options[4].selected">
                            <input type="radio" name="icon-select" id="share-ic5" (click)="optionToggle('cta_shares','whatsapp')">
                            <label for="share-ic5">
                                <i class="fa fa-whatsapp"></i>
                            </label>
                        </label>
                        <label class="ch-icon ic" *ngIf="editorControl.cta_shares.options[5]" [class.active]="editorControl.cta_shares.options[5].selected">
                            <input type="radio" name="icon-select" id="share-ic6" (click)="optionToggle('cta_shares','mail')">
                            <label for="share-ic6">
                                <i class="fa fa-envelope"></i>
                            </label>
                        </label>
                        <label class="ch-icon ic" *ngIf="editorControl.cta_shares.options[6]" [class.active]="editorControl.cta_shares.options[6].selected">
                            <input type="radio" name="icon-select" id="share-ic7" (click)="optionToggle('cta_shares','messenger')">
                            <label for="share-ic7">
                                <i class="fa fa-comments-o"></i>
                            </label>
                        </label>
                    </div>
                </label>
                <section [class.hide]=" !editorControl.cta_shares.visible" class="outside-section ful-length">
                    <div class="col-md-12 col-xs-12 no-padding full-check-value" *ngIf="(editorControl.cta_shares.options[0].selected||editorControl.cta_shares.options[1].selected||editorControl.cta_shares.options[2].selected||(editorControl.cta_shares.options[3] && editorControl.cta_shares.options[3].selected)||(editorControl.cta_shares.options[4] && editorControl.cta_shares.options[4].selected)||(editorControl.cta_shares.options[5] && editorControl.cta_shares.options[5].selected)||(editorControl.cta_shares.options[6] && editorControl.cta_shares.options[6].selected))">
                        <label class="check-value">SHARE URL
                            <div class="help-tip editor-helptip pull-right upload-helptip">
                                <i class="material-icons">info_outline</i>
                                <div class="help-checktip">If you're embedding the calculator on another page please add the link for that page.</div>
                            </div>
                        </label>
                        <input [(ngModel)]="editorControl.cta_shares.options[0].description" class="form-text value-text" (change)="editorControl.cta_shares.options[0].description=_editorService.onURLChange($event)"
                            placeholder="http://www.outgrow.co">
                    </div>
                    <div *ngIf="(editorControl.cta_shares.options[2].selected || editorControl.cta_shares.options[0].selected||(editorControl.cta_shares.options[3] && editorControl.cta_shares.options[3].selected)||(editorControl.cta_shares.options[5] && editorControl.cta_shares.options[5].selected))">
                        <div class="form-label">Share Widget Title
                            <div class="help-tip editor-helptip pull-right upload-helptip hide">
                                <i class="material-icons">info_outline</i>
                                <div class="help-checktip">This will be reflected only for Linkedin. Facebook will use the SEO title under Configure.</div>
                            </div>
                        </div>
                        <div class="icon-outer" *ngIf="froalaCtaSocialTitle.textCount>160">
                            <div [class.char-count-red]="froalaCtaSocialTitle.textCount>160" class="char-count">{{froalaCtaSocialTitle.textCount}}</div>
                            <div class="help-text">Recommended limit of 160 characters is exceeded</div>
                        </div>
                        <div #froalaCtaSocialTitleDOM [froalaEditor]="froalaCtaSocialTitle.options" *ngIf="froalaCtaSocialTitle.options" [(froalaModel)]="editorControl.cta_shares.options[0].label"></div>
                    </div>
                    <div *ngIf="(editorControl.cta_shares.options[1].selected||editorControl.cta_shares.options[2].selected||editorControl.cta_shares.options[0].selected||(editorControl.cta_shares.options[3] && editorControl.cta_shares.options[3].selected)||(editorControl.cta_shares.options[5] && editorControl.cta_shares.options[5].selected))">
                        <div class="form-label top-space10">Share Widget Description
                            <div class="help-tip editor-helptip pull-right upload-helptip hide">
                                <i class="material-icons">info_outline</i>
                                <div class="help-checktip">This will be reflected only for Twitter and Linkedin. Facebook will use the SEO Description
                                    under Configure.</div>
                            </div>
                        </div>
                        <div class="icon-outer" *ngIf="froalaCtaSocialDesc.textCount>160">
                            <div [class.char-count-red]="froalaCtaSocialDesc.textCount>160" class="char-count">{{froalaCtaSocialDesc.textCount}}</div>
                            <div class="help-text">Recommended limit of 160 characters is exceeded</div>
                        </div>
                        <div #froalaCtaSocialDescDOM [froalaEditor]="froalaCtaSocialDesc.options" *ngIf="froalaCtaSocialDesc.options" [(froalaModel)]="editorControl.cta_shares.options[0].icon"></div>
                    </div>
                    <div class="type-details" style="padding-top:10px;padding-bottom: 12px;" *ngIf="editorControl.cta_shares.options[0].selected||(editorControl.cta_shares.options[3] && editorControl.cta_shares.options[3].selected)">
                        <div class="form-label">Social Share Image
                            <div class="help-tip editor-helptip share-tooltip">
                                <i class="material-icons">info_outline</i>
                                <div class="help-checktip">If you do not upload an image, a screenshot of the welcome screen will be used as the default
                                    image.
                                </div>
                            </div>
                        </div>
                        <div class="switch hide">
                            <label>
                                <input class="show-check" type="checkbox">
                                <span class="lever"></span>
                            </label>
                        </div>
                        <div class="col-xs-12 no-padding">
                            <div class="input-group">
                                <input class="file-input" placeholder="No file" readonly="" type="text" value="{{jsonBuilderHandler.getJSONBuilt().seoImage}}"
                                    readonly>
                                <label class="input-group-btn">
                                    <span class="btn btn-basic2" (click)="_editorService.uploadSeoImage()" data-fp-apikey="ANQWcFDQRUiGfBqjfgINQz">
                                        UPLOAD
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="type-details no-border bottom-space0" *ngIf="isSharePopupAllowed() && editorControl.cta_shares.visible">
                        <div class="custom-switch open-in-app">
                            <label class="check check-mandatory form-label">
                                <input id="show-check-share" [checked]="editorControl.cta_shares.showButton" (change)="toggleSharePopup($event, 'cta_shares')"
                                    type="checkbox">
                                <label for="show-check-share"> </label> Show before result
                            </label>
                        </div>
                    </div>
                </section>
                <div *ngIf="(editorControl.cta_shares.visible && editorControl.cta_shares.showButton) || (editorControl.cta_likes.visible && editorControl.cta_likes.showButton)">
                    <div class="type-details" style="padding-bottom:15px; padding-top:9px;">
                        <div>
                            <span class="form-label">HEADING</span>
                            <textarea class="form-text question-textarea" [(ngModel)]="editorControl.cta_likes.props.title"></textarea>
                        </div>
                    </div>

                    <div class="type-details">
                        <span class="form-label">Help Text</span>
                        <div class="col-xs-12 no-padding text-group div-check help-editor-outer">
                            <textarea class="form-text question-textarea" [(ngModel)]="editorControl.cta_likes.props.helpText"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="type-details-head">
    <i class="material-icons"></i>
    <span class="type-details-heading">SETTINGS</span>
</div>
<div class="type-details">
    <div class="stage5-product-details type-details">
        <label class="">NO. OF RECOMMENDATIONS TO SHOW
            <!-- <input type="text" class="form-control" [(ngModel)]="jsonBuilderHandler.getJSONBuilt().recomBased.noOfOutcome" /> -->
            <select [(ngModel)]="jsonBuilderHandler.getJSONBuilt().recomBased.noOfOutcome" (change)="recommendationToggle()">
                <option *ngFor="let num of _ecomService.getallProduct(); let i = index" value="{{i+1}}">{{i+1}}</option>
            </select>
        </label>
    </div>
    <div class="stage5-product-details type-details bottom-space0">
        <span class="form-label">Show similar Recommendations</span>
        <div class="switch">
            <label>
                <input class="show-check" data-size="mini" [checked]="jsonBuilderHandler.getJSONBuilt().recomBased.multipleOutcome" (change)="toggleSimilarRecommendations($event)"
                    name="properties-checkbox" type="checkbox">
                <span class="lever"></span>
            </label>
        </div>
        <label class="" *ngIf="jsonBuilderHandler.getJSONBuilt().recomBased.multipleOutcome">
            <select class="mt0" [(ngModel)]="jsonBuilderHandler.getJSONBuilt().progressBar.perc" (change)="noOfRecomChange($event)">
                <option *ngFor="let num of _ecomService.getallProduct().slice(jsonBuilderHandler.getJSONBuilt().recomBased.noOfOutcome); let i = index"
                    value="{{i+1}}">{{i+1}}</option>
            </select>
        </label>
        <div *ngIf="jsonBuilderHandler.getJSONBuilt().recomBased.multipleOutcome" class="stage3-product-details mt15 mb0">
            <label class="">Similar Recommendations Heading</label>
            <input placeholder="Heading" type="text" [(ngModel)]="editorControl.cta_shares.props.title" class="ng-untouched ng-pristine ng-valid">
        </div>
    </div>
    <div class="stage5-product-details">
        <div>
            <span class="form-label">Add text or Disclaimer</span>
            <div class="switch" [class.alwaysOn]="!isDisclaimers && editorControl.result_disclaimer.visible">
                <label>
                    <input class="show-check" data-size="mini" name="properties-checkbox" type="checkbox" (click)="_editorService.toggleDisclaimer(isDisclaimers);callGA('DISCLAIMER')"
                        [checked]="editorControl.result_disclaimer.visible">
                    <span class="lever"></span>
                </label>
            </div>
            <div class="col-xs-12 no-padding div-check" *ngIf="editorControl.result_disclaimer.visible">
                <div [froalaEditor]="froalaDisclaimer.options" *ngIf="froalaDisclaimer.options" [(froalaModel)]="editorControl.result_disclaimer.props.title"
                    (click)="_editorService.disclaimerClick(isDisclaimers)" #froalaDisclaimerDOM></div>
            </div>
        </div>
    </div>
    <div class="stage5-product-details type-details" *ngIf="editorControl.result_redo && jsonBuilderHandler.editors('redo')">
        <span class="form-label no-margin">Start Over</span>
        <div class="switch">
            <label>
                <input class="show-check" data-size="mini" name="properties-checkbox" type="checkbox" (change)="editorControl.result_redo.visible =!editorControl.result_redo.visible"
                    [checked]="editorControl.result_redo.visible ">
                <span class="lever"></span>
            </label>
        </div>
    </div>
</div>
<!-- 
<h3>I am groot.</h3>
<button (click)="openEcomMapPopup()">open product mapping</button> -->
<editor-product-mapping *ngIf="ecomPopup"></editor-product-mapping>